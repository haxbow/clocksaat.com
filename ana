<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dijital Saat, Alarm & Geri SayÄ±m</title>
  <style>
    :root {
      --bg-light: #f9fafb;
      --text-light: #111;
      --bg-dark: #111;
      --text-dark: #f9fafb;
      --accent: #3b82f6;
    }
    body {
      font-family: "Segoe UI", sans-serif;
      background: var(--bg-light);
      color: var(--text-light);
      transition: 0.3s;
      text-align: center;
      margin: 0;
      padding: 20px;
    }
    .dark-mode {
      background: var(--bg-dark);
      color: var(--text-dark);
    }
    h1 { margin-top: 10px; }
    .clock {
      font-size: 5rem;
      font-weight: bold;
      margin-top: 40px;
    }
    .date {
      font-size: 1.5rem;
      opacity: 0.8;
      margin-bottom: 20px;
    }
    .controls, .alarm, .timer, .world {
      margin: 25px 0;
    }
    button {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: var(--accent);
      color: white;
      font-weight: 600;
      transition: 0.3s;
    }
    button:hover { opacity: 0.8; }
    input {
      padding: 6px 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 1rem;
    }
    footer {
      margin-top: 40px;
      font-size: 0.9rem;
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <h1>ğŸ•’ Dijital Saat | â° Alarm | â³ Geri SayÄ±m</h1>
  <div class="clock" id="clock"></div>
  <div class="date" id="date"></div>

  <div class="controls">
    <button id="toggleFormat">12 Saat</button>
    <button id="toggleTheme">ğŸŒ™ Koyu</button>
  </div>

  <hr style="margin:30px 0; opacity:0.4;">

  <!-- Alarm -->
  <div class="alarm">
    <h2>â° Alarm Kur</h2>
    <input type="time" id="alarmTime">
    <button id="setAlarm">Kur</button>
    <button id="clearAlarm">Sil</button>
    <p id="alarmStatus"></p>
  </div>

  <!-- Geri SayÄ±m -->
  <div class="timer">
    <h2>â³ Geri SayÄ±m</h2>
    <input type="number" id="timerMinutes" placeholder="Dakika">
    <button id="startTimer">BaÅŸlat</button>
    <button id="stopTimer">Durdur</button>
    <p id="timerDisplay"></p>
  </div>

  <!-- DÃ¼nya Saatleri -->
  <div class="world">
    <h2>ğŸŒ DÃ¼nya Saatleri</h2>
    <div id="worldClocks"></div>
  </div>

  <footer>Â© 2025 Dijital Saat â€¢ Netlify</footer>

  <script>
    // ---------- GENEL SAAT ----------
    let is24Hour = true;
    let darkMode = false;

    function updateClock() {
      const now = new Date();
      let hours = now.getHours();
      let minutes = now.getMinutes();
      let seconds = now.getSeconds();

      let ampm = "";
      if (!is24Hour) {
        ampm = hours >= 12 ? " PM" : " AM";
        hours = hours % 12 || 12;
      }

      document.getElementById("clock").textContent =
        `${String(hours).padStart(2,"0")}:${String(minutes).padStart(2,"0")}:${String(seconds).padStart(2,"0")}${ampm}`;

      const days = ["Pazar","Pazartesi","SalÄ±","Ã‡arÅŸamba","PerÅŸembe","Cuma","Cumartesi"];
      const dateStr = `${days[now.getDay()]}, ${now.getDate()}.${now.getMonth()+1}.${now.getFullYear()}`;
      document.getElementById("date").textContent = dateStr;
    }
    setInterval(updateClock,1000);
    updateClock();

    document.getElementById("toggleFormat").onclick = ()=>{
      is24Hour = !is24Hour;
      document.getElementById("toggleFormat").textContent = is24Hour?"12 Saat":"24 Saat";
    };
    document.getElementById("toggleTheme").onclick = ()=>{
      darkMode = !darkMode;
      document.body.classList.toggle("dark-mode");
      document.getElementById("toggleTheme").textContent = darkMode?"â˜€ï¸ AÃ§Ä±k":"ğŸŒ™ Koyu";
    };

    // ---------- ALARM ----------
    let alarmTime = null;
    let alarmTimeout = null;

    document.getElementById("setAlarm").onclick = ()=>{
      const time = document.getElementById("alarmTime").value;
      if(!time){ alert("LÃ¼tfen saat seÃ§!"); return; }
      alarmTime = time;
      document.getElementById("alarmStatus").textContent = `Alarm kuruldu: ${time}`;
    };

    document.getElementById("clearAlarm").onclick = ()=>{
      alarmTime = null;
      clearTimeout(alarmTimeout);
      document.getElementById("alarmStatus").textContent = "Alarm silindi.";
    };

    setInterval(()=>{
      if(!alarmTime) return;
      const now = new Date();
      const current = `${String(now.getHours()).padStart(2,"0")}:${String(now.getMinutes()).padStart(2,"0")}`;
      if(current === alarmTime){
        alert("â° Alarm zamanÄ±!");
        alarmTime = null;
        document.getElementById("alarmStatus").textContent = "";
      }
    },1000);

    // ---------- GERÄ° SAYIM ----------
    let timerInterval;
    document.getElementById("startTimer").onclick = ()=>{
      const mins = parseInt(document.getElementById("timerMinutes").value);
      if(isNaN(mins) || mins<=0){ alert("Dakika gir!"); return; }
      let seconds = mins*60;
      clearInterval(timerInterval);
      timerInterval = setInterval(()=>{
        if(seconds<=0){
          clearInterval(timerInterval);
          document.getElementById("timerDisplay").textContent = "â°
